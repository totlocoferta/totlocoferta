(function(){var ln=document&&document.currentScript&&document.currentScript.src;(window.webpackJsonpruntime=window.webpackJsonpruntime||[]).push([[21],{"6TzK":function(an,w,t){"use strict";t.r(w),t.d(w,"sendPerformanceMetrics",function(){return sn});var U=t("yXPU"),c=t.n(U),M=t("e0ae"),R=t("fKJ5"),V=t.n(R),F=t("O/PN"),H=t.n(F),j=t("DNwz"),A=t.n(j),J=t("Bscj"),W=t.n(J),a=t("ONNR"),G=t("HFo2"),z=t.n(G);const K="unknown",x=1e-6,f=n=>z()(n)?K:n;function X({device:n=null,connectionType:e=null,connectionSpeed:r=null,viewportWidth:o=null,viewportHeight:l=null,hasCriticalCss:g=null,hasCustomWidgets:v=null,browserName:h=null,browserVersion:p=null,os:T=null,firstVisit:y=null,pageUuid:P=null,serviceWorkerRunning:N=null,siteAlias:O=null,host:E=null,path:S=null,vital:{name:u=null,delta:i=null}}){return{device:n,connectionType:f(e),connectionSpeed:f(r),viewportWidth:o,viewportHeight:l,hasCriticalCss:g,hasCustomWidgets:v,browserName:h,browserVersion:p,os:T,firstVisit:y,pageUuid:P,serviceWorkerRunning:N,siteAlias:O,host:f(E),path:S,[u==null?void 0:u.toLowerCase()]:i||x}}function $({vital:n}){return Object.assign({_type:"WEBVITAL"},n||{})}var Q=t("pRvV"),Y=t.n(Q),Z=t("duPW"),B=t.n(Z),d=t("zq3N");const b=15;function k({apiUrl:n=d.a.get("runtimecollector.url")}={}){return function(){var e=c()(function*(r){if(!n)throw new Error("Missing endpoint for runtimecollector");return yield fetch(`${n}/performance/metrics`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(r)}).catch(o=>{d.c.warn({message:"Error while trying to report Vitals to BI",error:W()(o)?o.toString():JSON.stringify(o),siteAlias:B()("siteAlias",r),pageUrl:B()("_currentPage.pageUrl",window)})})});return function(r){return e.apply(this,arguments)}}()}function q(){return Y()(n=>Promise.resolve().then(()=>d.c.info(n)),b)}const C=A()(null),s=n=>C(n,window),D=n=>!!document.querySelector(n),_=n=>{const e=H()(n);return W()(e)?null:e},nn=k(),tn=q(),en=150,L=(...n)=>e=>n.reduce((r,o)=>r.then((...l)=>Promise.resolve().then(o.bind(null,...l))),Promise.resolve(e)),rn=({name:n,value:e})=>n==="INP"&&e>=Number(A()(en,'rtCommonProps["feature.flag.runtime.inp.threshold"]',window)),on=function(){var n=c()(function*(){const e=s("_currentDevice"),r=s("navigator.connection.type"),o=s("navigator.connection.effectiveType"),l=s("Parameters.SiteAlias"),g=s("window.location.host"),v=s("location.pathname"),h=D("#criticalCss"),p=D('[data-element-type="custom_extension"]'),T=s("innerWidth"),y=s("innerHeight"),P=["_currentPage.pageContent.uuid","Parameters.InitialPageUuid","_currentPage.pageID"].map(i=>C(i,window)).filter(Boolean).at(0),{name:N=null,version:O=null,os:E=null}=Object(M.a)(),[S,u]=yield c()(function*(){const i=yield _(()=>navigator.serviceWorker.getRegistration("/"));return[!(i!=null&&i.active),!!i]})();return{device:e,connectionType:r,connectionSpeed:o,viewportWidth:T,viewportHeight:y,hasCriticalCss:h,hasCustomWidgets:p,browserName:N,browserVersion:O,os:E,firstVisit:S,serviceWorkerRunning:u,pageUuid:P,siteAlias:l,host:g,path:v}});return function(){return n.apply(this,arguments)}}(),I=function(n){return on().then(V()({vital:n}))};function sn(){return m.apply(this,arguments)}function m(){return m=c()(function*({sendLog:n=!0}={}){const e=[L(I,X,nn),function(){var r=c()(function*(o){if(n&&rn(o))return L(I,$,tn)(o)});return function(o){return r.apply(this,arguments)}}()].filter(Boolean);[a.a,a.f,r=>Object(a.d)(r,{durationThreshold:0,reportAllChanges:!0}),a.c,a.e,a.b].forEach(r=>r(o=>{Promise.all(e.map(l=>l(o).catch(console.warn)))}))}),m.apply(this,arguments)}}}])})();
